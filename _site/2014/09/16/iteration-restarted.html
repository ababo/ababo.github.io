<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title>Toy OS: Restarted with AArch64 (ver.0.4)</title>
        <meta name="viewport" content="width=device-width">

        <!-- syntax highlighting CSS -->
        <link rel="stylesheet" href="/css/syntax.css">

        <!-- Custom CSS -->
        <link rel="stylesheet" href="/css/main.css">

    </head>
    <body>

        <div class="site">
          <div class="header">
            <h1 class="title"><a href="/">Ababo's Personal Blog</a></h1>
            <a class="extra" href="https://github.com/ababo">projects</a>
          </div>

          <h2>Toy OS: Restarted with AArch64 (ver.0.4)</h2>
<p class="meta">16 Sep 2014</p>

<div class="post">
<p>It&#39;s been 6 months since I wrote the last post. My design vision was vacillated between single and multiple address spaces. In the last case we should use microkernel. For now I continue sticking to single address space. I believe there will be no considerable performance impact due to several causes:</p>

<ol>
<li>No need for serialization, fast context switches, etc.</li>
<li>User-level compiler will perform sophisticated static analysis which will ensure memory safety (being inspired by Rust language now I tend to refuse virtual machine in favour of native compiler).</li>
</ol>

<p>Still we&#39;ll have a problem with buggy third-party C/C++ code. So inserting it will require some dedicated permission.</p>

<p>Last week I did significant progress with AArch64 bootstrap code (latest versions of GCC/CLang and QEMU now support it). By now I have a minimal kernel with logging capability (restricted printf-like version).</p>

<p>Next days I&#39;ll adopt x86_64 code from ver.0.3 to the current sources. I decided to implement each feature both for AArch64 and x86_64 before moving to a next one.</p>

<p>Interrupts will be the next milestone. For AArch64 I need to figure out how to enable timer and how start other logical CPUs. This will allow to write a thread scheduler.</p>

</div>


          <div class="footer">
            <div class="contact">
              <p>
                Simon Prikhodko<br />
                semion.ababo@gmail.com
              </p>
            </div>
            <div class="contact">
              <p>
                <a href="https://github.com/ababo">github.com/ababo</a><br />
              </p>
            </div>
          </div>
        </div>

    </body>
</html>
